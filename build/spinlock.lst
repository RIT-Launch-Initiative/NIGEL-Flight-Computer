ARM GAS  /tmp/ccBYZzOX.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"spinlock.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.spinlock,"ax",%progbits
  18              		.align	1
  19              		.global	spinlock
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	spinlock:
  27              	.LVL0:
  28              	.LFB0:
  29              		.file 1 "source/modules/spinlock/spinlock.c"
   1:source/modules/spinlock/spinlock.c **** #include "spinlock.h"
   2:source/modules/spinlock/spinlock.c **** 
   3:source/modules/spinlock/spinlock.c **** void spinlock(uint32_t ms) {
  30              		.loc 1 3 28 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
   4:source/modules/spinlock/spinlock.c ****     uint64_t ticks = ms * CPU_CLOCK_SPEED / 1000;
  35              		.loc 1 4 5 view .LVU1
  36              		.loc 1 4 25 is_stmt 0 view .LVU2
  37 0000 0949     		ldr	r1, .L4
  38 0002 00FB01F1 		mul	r1, r0, r1
  39              		.loc 1 4 43 view .LVU3
  40 0006 094B     		ldr	r3, .L4+4
  41 0008 A3FB0131 		umull	r3, r1, r3, r1
  42 000c 8909     		lsrs	r1, r1, #6
  43              		.loc 1 4 14 view .LVU4
  44 000e 0020     		movs	r0, #0
  45              	.LVL1:
   5:source/modules/spinlock/spinlock.c **** 
   6:source/modules/spinlock/spinlock.c ****     for(uint64_t i = 0; i < ticks; i++) { };
  46              		.loc 1 6 5 is_stmt 1 view .LVU5
  47              	.LBB2:
  48              		.loc 1 6 9 view .LVU6
  49              		.loc 1 6 18 is_stmt 0 view .LVU7
  50 0010 0346     		mov	r3, r0
  51 0012 0246     		mov	r2, r0
  52              		.loc 1 6 5 view .LVU8
ARM GAS  /tmp/ccBYZzOX.s 			page 2


  53 0014 02E0     		b	.L2
  54              	.LVL2:
  55              	.L3:
  56              		.loc 1 6 43 is_stmt 1 discriminator 3 view .LVU9
  57              		.loc 1 6 37 discriminator 3 view .LVU10
  58 0016 0133     		adds	r3, r3, #1
  59              	.LVL3:
  60              		.loc 1 6 37 is_stmt 0 discriminator 3 view .LVU11
  61 0018 42F10002 		adc	r2, r2, #0
  62              	.LVL4:
  63              	.L2:
  64              		.loc 1 6 27 is_stmt 1 discriminator 1 view .LVU12
  65 001c 8B42     		cmp	r3, r1
  66 001e 72EB000C 		sbcs	ip, r2, r0
  67 0022 F8D3     		bcc	.L3
  68              	.LBE2:
   7:source/modules/spinlock/spinlock.c **** 
   8:source/modules/spinlock/spinlock.c ****     return;
   9:source/modules/spinlock/spinlock.c **** }
  69              		.loc 1 9 1 is_stmt 0 view .LVU13
  70 0024 7047     		bx	lr
  71              	.L5:
  72 0026 00BF     		.align	2
  73              	.L4:
  74 0028 006CDC02 		.word	48000000
  75 002c D34D6210 		.word	274877907
  76              		.cfi_endproc
  77              	.LFE0:
  79              		.text
  80              	.Letext0:
  81              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
  82              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
ARM GAS  /tmp/ccBYZzOX.s 			page 3


DEFINED SYMBOLS
                            *ABS*:0000000000000000 spinlock.c
     /tmp/ccBYZzOX.s:18     .text.spinlock:0000000000000000 $t
     /tmp/ccBYZzOX.s:26     .text.spinlock:0000000000000000 spinlock
     /tmp/ccBYZzOX.s:74     .text.spinlock:0000000000000028 $d

NO UNDEFINED SYMBOLS
