ARM GAS  /tmp/ccynBCE8.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"xbee.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.xb_at_cmd,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	xb_at_cmd:
  26              	.LVL0:
  27              	.LFB4:
  28              		.file 1 "source/modules/xbee/xbee.c"
   1:source/modules/xbee/xbee.c **** /**
   2:source/modules/xbee/xbee.c ****  * XBEE Radio Library
   3:source/modules/xbee/xbee.c ****  *
   4:source/modules/xbee/xbee.c ****  * @author Aaron Chan
   5:source/modules/xbee/xbee.c ****  */
   6:source/modules/xbee/xbee.c **** #include <stdlib.h>
   7:source/modules/xbee/xbee.c **** #include <stdint.h>
   8:source/modules/xbee/xbee.c **** #include <stddef.h>
   9:source/modules/xbee/xbee.c **** #include <string.h>
  10:source/modules/xbee/xbee.c **** #include "net.h"
  11:source/modules/xbee/xbee.c **** #include "spinlock.h"
  12:source/modules/xbee/xbee.c **** #include "xbee.h"
  13:source/modules/xbee/xbee.c **** 
  14:source/modules/xbee/xbee.c **** #define START_DELIMETER   0x7E
  15:source/modules/xbee/xbee.c **** #define TX_FRAME_TYPE     0x10
  16:source/modules/xbee/xbee.c **** #define RX_FRAME_TYPE     0x90
  17:source/modules/xbee/xbee.c **** #define AT_CMD_FRAME_TYPE 0x17
  18:source/modules/xbee/xbee.c **** 
  19:source/modules/xbee/xbee.c **** typedef struct {
  20:source/modules/xbee/xbee.c ****     uint8_t start_delimiter;
  21:source/modules/xbee/xbee.c ****     uint16_t length;
  22:source/modules/xbee/xbee.c **** } xb_header_t;
  23:source/modules/xbee/xbee.c **** 
  24:source/modules/xbee/xbee.c **** typedef struct {
  25:source/modules/xbee/xbee.c ****     xb_header_t header;
  26:source/modules/xbee/xbee.c ****     uint8_t frame_type;
  27:source/modules/xbee/xbee.c ****     uint64_t dst_address_64;
  28:source/modules/xbee/xbee.c ****     uint16_t reserved;
  29:source/modules/xbee/xbee.c ****     uint8_t radius;
  30:source/modules/xbee/xbee.c ****     uint8_t options;
ARM GAS  /tmp/ccynBCE8.s 			page 2


  31:source/modules/xbee/xbee.c **** } xb_tx_frame_t;
  32:source/modules/xbee/xbee.c **** 
  33:source/modules/xbee/xbee.c **** typedef struct {
  34:source/modules/xbee/xbee.c ****     xb_header_t header;
  35:source/modules/xbee/xbee.c ****     uint8_t frame_type;
  36:source/modules/xbee/xbee.c ****     uint64_t src_address_64;
  37:source/modules/xbee/xbee.c ****     uint16_t reserved;
  38:source/modules/xbee/xbee.c **** } xb_rx_frame_t;
  39:source/modules/xbee/xbee.c **** 
  40:source/modules/xbee/xbee.c **** typedef struct {
  41:source/modules/xbee/xbee.c ****     xb_header_t header;
  42:source/modules/xbee/xbee.c ****     uint8_t frame_type;
  43:source/modules/xbee/xbee.c ****     uint8_t frame_id;
  44:source/modules/xbee/xbee.c ****     uint64_t dst_address_64;
  45:source/modules/xbee/xbee.c ****     uint16_t reserved;
  46:source/modules/xbee/xbee.c ****     uint8_t options;
  47:source/modules/xbee/xbee.c ****     uint8_t at_command[2];
  48:source/modules/xbee/xbee.c **** } xb_at_frame_t;
  49:source/modules/xbee/xbee.c **** 
  50:source/modules/xbee/xbee.c **** int (*xb_write)(uint8_t *buf, size_t len);
  51:source/modules/xbee/xbee.c **** 
  52:source/modules/xbee/xbee.c **** // default to broadcast
  53:source/modules/xbee/xbee.c **** static uint64_t dst_addr = XBEE_BROADCAST_ADDR;
  54:source/modules/xbee/xbee.c **** 
  55:source/modules/xbee/xbee.c **** static void (*rx_callback)(uint8_t *buff, size_t len);
  56:source/modules/xbee/xbee.c **** 
  57:source/modules/xbee/xbee.c **** static uint8_t tx_buff[1024];
  58:source/modules/xbee/xbee.c **** 
  59:source/modules/xbee/xbee.c **** xb_ret_t xb_tx(uint8_t *data, size_t len) {
  60:source/modules/xbee/xbee.c ****     xb_tx_frame_t *frame = (xb_tx_frame_t *) tx_buff;
  61:source/modules/xbee/xbee.c **** 
  62:source/modules/xbee/xbee.c ****     frame->header.start_delimiter = START_DELIMETER;
  63:source/modules/xbee/xbee.c ****     // length = payload + frame - header
  64:source/modules/xbee/xbee.c ****     frame->header.length = hton16(len + sizeof(xb_tx_frame_t) - sizeof(xb_header_t));
  65:source/modules/xbee/xbee.c ****     frame->frame_type = TX_FRAME_TYPE;
  66:source/modules/xbee/xbee.c ****     frame->dst_address_64 = dst_addr;
  67:source/modules/xbee/xbee.c ****     frame->reserved = hton16(0xFFFE);
  68:source/modules/xbee/xbee.c ****     frame->radius = 0;
  69:source/modules/xbee/xbee.c ****     frame->options = 0x80;
  70:source/modules/xbee/xbee.c **** 
  71:source/modules/xbee/xbee.c **** 
  72:source/modules/xbee/xbee.c ****     memcpy(tx_buff + sizeof(xb_tx_frame_t), data, len);
  73:source/modules/xbee/xbee.c **** 
  74:source/modules/xbee/xbee.c ****     uint8_t check = 0;
  75:source/modules/xbee/xbee.c ****     for (size_t i = sizeof(xb_header_t); i < len + sizeof(xb_tx_frame_t); i++) {
  76:source/modules/xbee/xbee.c ****         check += tx_buff[i];
  77:source/modules/xbee/xbee.c ****     }
  78:source/modules/xbee/xbee.c **** 
  79:source/modules/xbee/xbee.c ****     check = 0xFF - check;
  80:source/modules/xbee/xbee.c ****     memcpy(tx_buff + len + sizeof(xb_tx_frame_t), &check, 1);
  81:source/modules/xbee/xbee.c **** 
  82:source/modules/xbee/xbee.c ****     size_t write_len = len + sizeof(xb_tx_frame_t) + 1;
  83:source/modules/xbee/xbee.c ****     if (xb_write(tx_buff, write_len) < write_len) {
  84:source/modules/xbee/xbee.c ****         // write error
  85:source/modules/xbee/xbee.c ****         return XB_ERR;
  86:source/modules/xbee/xbee.c ****     }
  87:source/modules/xbee/xbee.c **** 
ARM GAS  /tmp/ccynBCE8.s 			page 3


  88:source/modules/xbee/xbee.c ****     return XB_OK;
  89:source/modules/xbee/xbee.c **** }
  90:source/modules/xbee/xbee.c **** 
  91:source/modules/xbee/xbee.c **** void xb_attach_rx_callback(void (*rx)(uint8_t *buff, size_t len)) {
  92:source/modules/xbee/xbee.c ****     rx_callback = rx;
  93:source/modules/xbee/xbee.c **** }
  94:source/modules/xbee/xbee.c **** 
  95:source/modules/xbee/xbee.c **** 
  96:source/modules/xbee/xbee.c **** #define RX_BUFF_SIZE 2048 // bytes
  97:source/modules/xbee/xbee.c **** static uint8_t rx_buff[RX_BUFF_SIZE];
  98:source/modules/xbee/xbee.c **** 
  99:source/modules/xbee/xbee.c **** void xb_raw_recv(uint8_t *buff, size_t len) {
 100:source/modules/xbee/xbee.c ****     typedef enum {
 101:source/modules/xbee/xbee.c ****         WAITING_FOR_FRAME,
 102:source/modules/xbee/xbee.c ****         WAITING_FOR_HEADER,
 103:source/modules/xbee/xbee.c ****         READING_PAYLOAD
 104:source/modules/xbee/xbee.c ****     } state_t;
 105:source/modules/xbee/xbee.c **** 
 106:source/modules/xbee/xbee.c ****     static size_t rx_index = 0;
 107:source/modules/xbee/xbee.c ****     static size_t to_read; // bytes left of payload to read
 108:source/modules/xbee/xbee.c ****     static size_t payload_size;
 109:source/modules/xbee/xbee.c **** 
 110:source/modules/xbee/xbee.c ****     static state_t state = WAITING_FOR_FRAME;
 111:source/modules/xbee/xbee.c ****     static uint8_t check = RX_FRAME_TYPE;
 112:source/modules/xbee/xbee.c **** 
 113:source/modules/xbee/xbee.c ****     size_t i = 0;
 114:source/modules/xbee/xbee.c **** 
 115:source/modules/xbee/xbee.c ****     start_switch:
 116:source/modules/xbee/xbee.c ****     switch (state) {
 117:source/modules/xbee/xbee.c ****         case WAITING_FOR_FRAME:
 118:source/modules/xbee/xbee.c ****             for (; i < len; i++) {
 119:source/modules/xbee/xbee.c ****                 if (buff[i] == START_DELIMETER) {
 120:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_HEADER;
 121:source/modules/xbee/xbee.c ****                     rx_index = 0;
 122:source/modules/xbee/xbee.c ****                 }
 123:source/modules/xbee/xbee.c ****             }
 124:source/modules/xbee/xbee.c **** 
 125:source/modules/xbee/xbee.c ****             if (state == WAITING_FOR_FRAME) {
 126:source/modules/xbee/xbee.c ****                 break;
 127:source/modules/xbee/xbee.c ****             } // otherwise start parsing header
 128:source/modules/xbee/xbee.c **** 
 129:source/modules/xbee/xbee.c ****         case WAITING_FOR_HEADER:
 130:source/modules/xbee/xbee.c ****             // "header" is length and frame type
 131:source/modules/xbee/xbee.c ****             for (; i < len; i++) {
 132:source/modules/xbee/xbee.c ****                 rx_buff[rx_index] = buff[i];
 133:source/modules/xbee/xbee.c ****                 rx_index++;
 134:source/modules/xbee/xbee.c ****                 if (rx_index > 3) {
 135:source/modules/xbee/xbee.c ****                     if (rx_buff[2] != RX_FRAME_TYPE) {
 136:source/modules/xbee/xbee.c ****                         state = WAITING_FOR_HEADER;
 137:source/modules/xbee/xbee.c ****                         goto start_switch; // gross
 138:source/modules/xbee/xbee.c ****                     }
 139:source/modules/xbee/xbee.c **** 
 140:source/modules/xbee/xbee.c ****                     payload_size = ntoh16(*((uint16_t *) rx_buff));
 141:source/modules/xbee/xbee.c ****                     to_read = payload_size + 1; // read checksum too
 142:source/modules/xbee/xbee.c ****                     state = READING_PAYLOAD;
 143:source/modules/xbee/xbee.c ****                 }
 144:source/modules/xbee/xbee.c ****             }
ARM GAS  /tmp/ccynBCE8.s 			page 4


 145:source/modules/xbee/xbee.c **** 
 146:source/modules/xbee/xbee.c ****             if (state == WAITING_FOR_HEADER) {
 147:source/modules/xbee/xbee.c ****                 break;
 148:source/modules/xbee/xbee.c ****             }
 149:source/modules/xbee/xbee.c **** 
 150:source/modules/xbee/xbee.c ****         case READING_PAYLOAD:
 151:source/modules/xbee/xbee.c ****             for (; i < len; i++) {
 152:source/modules/xbee/xbee.c ****                 rx_buff[rx_index++] = buff[i];
 153:source/modules/xbee/xbee.c ****                 to_read--;
 154:source/modules/xbee/xbee.c **** 
 155:source/modules/xbee/xbee.c ****                 if (rx_index > RX_BUFF_SIZE) {
 156:source/modules/xbee/xbee.c ****                     // overflow, throw away packet
 157:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_FRAME;
 158:source/modules/xbee/xbee.c ****                     goto start_switch;
 159:source/modules/xbee/xbee.c ****                 }
 160:source/modules/xbee/xbee.c **** 
 161:source/modules/xbee/xbee.c **** 
 162:source/modules/xbee/xbee.c ****                 if (to_read == 0) {
 163:source/modules/xbee/xbee.c ****                     if (rx_callback) {
 164:source/modules/xbee/xbee.c ****                         uint8_t checksum = 0xFF - check;
 165:source/modules/xbee/xbee.c ****                         if (checksum == rx_buff[rx_index - 1]) {
 166:source/modules/xbee/xbee.c ****                             rx_callback(rx_buff + 14, payload_size);
 167:source/modules/xbee/xbee.c ****                         } // else bad check, throwaway
 168:source/modules/xbee/xbee.c ****                     }
 169:source/modules/xbee/xbee.c **** 
 170:source/modules/xbee/xbee.c ****                     check = RX_FRAME_TYPE;
 171:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_FRAME;
 172:source/modules/xbee/xbee.c ****                     goto start_switch;
 173:source/modules/xbee/xbee.c ****                 } else {
 174:source/modules/xbee/xbee.c ****                     check += buff[i];
 175:source/modules/xbee/xbee.c ****                 }
 176:source/modules/xbee/xbee.c ****             }
 177:source/modules/xbee/xbee.c ****     }
 178:source/modules/xbee/xbee.c **** }
 179:source/modules/xbee/xbee.c **** 
 180:source/modules/xbee/xbee.c **** void xb_set_dst(uint64_t addr) {
 181:source/modules/xbee/xbee.c ****     dst_addr = addr;
 182:source/modules/xbee/xbee.c **** }
 183:source/modules/xbee/xbee.c **** 
 184:source/modules/xbee/xbee.c **** static xb_ret_t xb_at_cmd(const char cmd[2], const char *param) {
  29              		.loc 1 184 65 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 184 65 is_stmt 0 view .LVU1
  34 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 24
  37              		.cfi_offset 4, -24
  38              		.cfi_offset 5, -20
  39              		.cfi_offset 6, -16
  40              		.cfi_offset 7, -12
  41              		.cfi_offset 8, -8
  42              		.cfi_offset 14, -4
  43 0004 8046     		mov	r8, r0
  44 0006 0F46     		mov	r7, r1
 185:source/modules/xbee/xbee.c ****     xb_at_frame_t *frame = (xb_at_frame_t *) tx_buff;
ARM GAS  /tmp/ccynBCE8.s 			page 5


  45              		.loc 1 185 5 is_stmt 1 view .LVU2
  46              	.LVL1:
 186:source/modules/xbee/xbee.c **** 
 187:source/modules/xbee/xbee.c ****     size_t param_size = strlen(param);
  47              		.loc 1 187 5 view .LVU3
  48              		.loc 1 187 25 is_stmt 0 view .LVU4
  49 0008 0846     		mov	r0, r1
  50              	.LVL2:
  51              		.loc 1 187 25 view .LVU5
  52 000a FFF7FEFF 		bl	strlen
  53              	.LVL3:
  54              		.loc 1 187 25 view .LVU6
  55 000e 0546     		mov	r5, r0
  56              	.LVL4:
 188:source/modules/xbee/xbee.c **** 
 189:source/modules/xbee/xbee.c ****     frame->header.start_delimiter = START_DELIMETER;
  57              		.loc 1 189 5 is_stmt 1 view .LVU7
  58              		.loc 1 189 35 is_stmt 0 view .LVU8
  59 0010 1F4E     		ldr	r6, .L7
  60 0012 7E23     		movs	r3, #126
  61 0014 3370     		strb	r3, [r6]
 190:source/modules/xbee/xbee.c ****     // length = frame - header + param
 191:source/modules/xbee/xbee.c ****     frame->header.length = hton16(sizeof(xb_at_frame_t) - sizeof(xb_header_t) + param_size);
  62              		.loc 1 191 5 is_stmt 1 view .LVU9
  63              		.loc 1 191 28 is_stmt 0 view .LVU10
  64 0016 1430     		adds	r0, r0, #20
  65              	.LVL5:
  66              		.loc 1 191 28 view .LVU11
  67 0018 80B2     		uxth	r0, r0
  68 001a FFF7FEFF 		bl	hton16
  69              	.LVL6:
  70              		.loc 1 191 26 view .LVU12
  71 001e 7080     		strh	r0, [r6, #2]	@ movhi
 192:source/modules/xbee/xbee.c ****     frame->frame_type = AT_CMD_FRAME_TYPE;
  72              		.loc 1 192 5 is_stmt 1 view .LVU13
  73              		.loc 1 192 23 is_stmt 0 view .LVU14
  74 0020 1723     		movs	r3, #23
  75 0022 3371     		strb	r3, [r6, #4]
 193:source/modules/xbee/xbee.c ****     frame->frame_id = 0;
  76              		.loc 1 193 5 is_stmt 1 view .LVU15
  77              		.loc 1 193 21 is_stmt 0 view .LVU16
  78 0024 0024     		movs	r4, #0
  79 0026 7471     		strb	r4, [r6, #5]
 194:source/modules/xbee/xbee.c ****     frame->dst_address_64 = dst_addr;
  80              		.loc 1 194 5 is_stmt 1 view .LVU17
  81              		.loc 1 194 27 is_stmt 0 view .LVU18
  82 0028 1A4B     		ldr	r3, .L7+4
  83 002a 1A68     		ldr	r2, [r3]
  84 002c B260     		str	r2, [r6, #8]
  85 002e 5B68     		ldr	r3, [r3, #4]
  86 0030 F360     		str	r3, [r6, #12]
 195:source/modules/xbee/xbee.c ****     frame->reserved = hton16(0xFFFE);
  87              		.loc 1 195 5 is_stmt 1 view .LVU19
  88              		.loc 1 195 23 is_stmt 0 view .LVU20
  89 0032 4FF6FE70 		movw	r0, #65534
  90 0036 FFF7FEFF 		bl	hton16
  91              	.LVL7:
ARM GAS  /tmp/ccynBCE8.s 			page 6


  92              		.loc 1 195 21 view .LVU21
  93 003a 3082     		strh	r0, [r6, #16]	@ movhi
 196:source/modules/xbee/xbee.c ****     frame->options = 0x02; // apply changes immediately on remote
  94              		.loc 1 196 5 is_stmt 1 view .LVU22
  95              		.loc 1 196 20 is_stmt 0 view .LVU23
  96 003c 0223     		movs	r3, #2
  97 003e B374     		strb	r3, [r6, #18]
 197:source/modules/xbee/xbee.c ****     frame->at_command[0] = cmd[0];
  98              		.loc 1 197 5 is_stmt 1 view .LVU24
  99              		.loc 1 197 31 is_stmt 0 view .LVU25
 100 0040 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 101              		.loc 1 197 26 view .LVU26
 102 0044 F374     		strb	r3, [r6, #19]
 198:source/modules/xbee/xbee.c ****     frame->at_command[1] = cmd[1];
 103              		.loc 1 198 5 is_stmt 1 view .LVU27
 104              		.loc 1 198 31 is_stmt 0 view .LVU28
 105 0046 98F80130 		ldrb	r3, [r8, #1]	@ zero_extendqisi2
 106              		.loc 1 198 26 view .LVU29
 107 004a 3375     		strb	r3, [r6, #20]
 199:source/modules/xbee/xbee.c **** 
 200:source/modules/xbee/xbee.c ****     // copy parameter
 201:source/modules/xbee/xbee.c ****     memcpy(tx_buff + sizeof(xb_at_frame_t), param, param_size);
 108              		.loc 1 201 5 is_stmt 1 view .LVU30
 109 004c 2A46     		mov	r2, r5
 110 004e 3946     		mov	r1, r7
 111 0050 06F11800 		add	r0, r6, #24
 112 0054 FFF7FEFF 		bl	memcpy
 113              	.LVL8:
 202:source/modules/xbee/xbee.c **** 
 203:source/modules/xbee/xbee.c ****     uint8_t check = 0;
 114              		.loc 1 203 5 view .LVU31
 204:source/modules/xbee/xbee.c ****     size_t i;
 115              		.loc 1 204 5 view .LVU32
 205:source/modules/xbee/xbee.c ****     for (i = sizeof(xb_header_t); i < sizeof(xb_at_frame_t) + param_size; i++) {
 116              		.loc 1 205 5 view .LVU33
 117              		.loc 1 205 12 is_stmt 0 view .LVU34
 118 0058 0421     		movs	r1, #4
 203:source/modules/xbee/xbee.c ****     size_t i;
 119              		.loc 1 203 13 view .LVU35
 120 005a 2346     		mov	r3, r4
 121              		.loc 1 205 5 view .LVU36
 122 005c 04E0     		b	.L2
 123              	.LVL9:
 124              	.L3:
 206:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 125              		.loc 1 206 9 is_stmt 1 discriminator 3 view .LVU37
 126              		.loc 1 206 25 is_stmt 0 discriminator 3 view .LVU38
 127 005e 0C4C     		ldr	r4, .L7
 128 0060 645C     		ldrb	r4, [r4, r1]	@ zero_extendqisi2
 129              		.loc 1 206 15 discriminator 3 view .LVU39
 130 0062 2344     		add	r3, r3, r4
 131              	.LVL10:
 132              		.loc 1 206 15 discriminator 3 view .LVU40
 133 0064 DBB2     		uxtb	r3, r3
 134              	.LVL11:
 205:source/modules/xbee/xbee.c ****     for (i = sizeof(xb_header_t); i < sizeof(xb_at_frame_t) + param_size; i++) {
 135              		.loc 1 205 76 is_stmt 1 discriminator 3 view .LVU41
ARM GAS  /tmp/ccynBCE8.s 			page 7


 136 0066 0131     		adds	r1, r1, #1
 137              	.LVL12:
 138              	.L2:
 205:source/modules/xbee/xbee.c ****     for (i = sizeof(xb_header_t); i < sizeof(xb_at_frame_t) + param_size; i++) {
 139              		.loc 1 205 37 discriminator 1 view .LVU42
 205:source/modules/xbee/xbee.c ****     for (i = sizeof(xb_header_t); i < sizeof(xb_at_frame_t) + param_size; i++) {
 140              		.loc 1 205 61 is_stmt 0 discriminator 1 view .LVU43
 141 0068 05F11804 		add	r4, r5, #24
 205:source/modules/xbee/xbee.c ****     for (i = sizeof(xb_header_t); i < sizeof(xb_at_frame_t) + param_size; i++) {
 142              		.loc 1 205 37 discriminator 1 view .LVU44
 143 006c 8C42     		cmp	r4, r1
 144 006e F6D8     		bhi	.L3
 207:source/modules/xbee/xbee.c ****     }
 208:source/modules/xbee/xbee.c **** 
 209:source/modules/xbee/xbee.c ****     tx_buff[i] = 0xFF - check;
 145              		.loc 1 209 5 is_stmt 1 view .LVU45
 146              		.loc 1 209 23 is_stmt 0 view .LVU46
 147 0070 DB43     		mvns	r3, r3
 148              	.LVL13:
 149              		.loc 1 209 16 view .LVU47
 150 0072 0748     		ldr	r0, .L7
 151 0074 4354     		strb	r3, [r0, r1]
 210:source/modules/xbee/xbee.c **** 
 211:source/modules/xbee/xbee.c ****     if (xb_write(tx_buff, i + 1) < i + 1) {
 152              		.loc 1 211 5 is_stmt 1 view .LVU48
 153              		.loc 1 211 9 is_stmt 0 view .LVU49
 154 0076 4C1C     		adds	r4, r1, #1
 155 0078 074B     		ldr	r3, .L7+8
 156 007a 1B68     		ldr	r3, [r3]
 157 007c 2146     		mov	r1, r4
 158              	.LVL14:
 159              		.loc 1 211 9 view .LVU50
 160 007e 9847     		blx	r3
 161              	.LVL15:
 162              		.loc 1 211 8 view .LVU51
 163 0080 8442     		cmp	r4, r0
 164 0082 02D8     		bhi	.L5
 212:source/modules/xbee/xbee.c ****         // write error
 213:source/modules/xbee/xbee.c ****         return XB_ERR;
 214:source/modules/xbee/xbee.c ****     }
 215:source/modules/xbee/xbee.c **** 
 216:source/modules/xbee/xbee.c ****     return XB_OK;
 165              		.loc 1 216 12 view .LVU52
 166 0084 0020     		movs	r0, #0
 167              	.L4:
 217:source/modules/xbee/xbee.c **** }
 168              		.loc 1 217 1 view .LVU53
 169 0086 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 170              	.LVL16:
 171              	.L5:
 213:source/modules/xbee/xbee.c ****     }
 172              		.loc 1 213 16 view .LVU54
 173 008a 0120     		movs	r0, #1
 174 008c FBE7     		b	.L4
 175              	.L8:
 176 008e 00BF     		.align	2
 177              	.L7:
ARM GAS  /tmp/ccynBCE8.s 			page 8


 178 0090 00000000 		.word	.LANCHOR0
 179 0094 00000000 		.word	.LANCHOR1
 180 0098 00000000 		.word	.LANCHOR2
 181              		.cfi_endproc
 182              	.LFE4:
 184              		.section	.text.xb_tx,"ax",%progbits
 185              		.align	1
 186              		.global	xb_tx
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 190              		.fpu fpv4-sp-d16
 192              	xb_tx:
 193              	.LVL17:
 194              	.LFB0:
  59:source/modules/xbee/xbee.c ****     xb_tx_frame_t *frame = (xb_tx_frame_t *) tx_buff;
 195              		.loc 1 59 43 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 0, pretend = 0, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
  59:source/modules/xbee/xbee.c ****     xb_tx_frame_t *frame = (xb_tx_frame_t *) tx_buff;
 199              		.loc 1 59 43 is_stmt 0 view .LVU56
 200 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 201              	.LCFI1:
 202              		.cfi_def_cfa_offset 24
 203              		.cfi_offset 3, -24
 204              		.cfi_offset 4, -20
 205              		.cfi_offset 5, -16
 206              		.cfi_offset 6, -12
 207              		.cfi_offset 7, -8
 208              		.cfi_offset 14, -4
 209 0002 0746     		mov	r7, r0
 210 0004 0D46     		mov	r5, r1
  60:source/modules/xbee/xbee.c **** 
 211              		.loc 1 60 5 is_stmt 1 view .LVU57
 212              	.LVL18:
  62:source/modules/xbee/xbee.c ****     // length = payload + frame - header
 213              		.loc 1 62 5 view .LVU58
  62:source/modules/xbee/xbee.c ****     // length = payload + frame - header
 214              		.loc 1 62 35 is_stmt 0 view .LVU59
 215 0006 1C4E     		ldr	r6, .L15
 216 0008 7E23     		movs	r3, #126
 217 000a 3370     		strb	r3, [r6]
  64:source/modules/xbee/xbee.c ****     frame->frame_type = TX_FRAME_TYPE;
 218              		.loc 1 64 5 is_stmt 1 view .LVU60
  64:source/modules/xbee/xbee.c ****     frame->frame_type = TX_FRAME_TYPE;
 219              		.loc 1 64 28 is_stmt 0 view .LVU61
 220 000c 01F11400 		add	r0, r1, #20
 221              	.LVL19:
  64:source/modules/xbee/xbee.c ****     frame->frame_type = TX_FRAME_TYPE;
 222              		.loc 1 64 28 view .LVU62
 223 0010 80B2     		uxth	r0, r0
 224 0012 FFF7FEFF 		bl	hton16
 225              	.LVL20:
  64:source/modules/xbee/xbee.c ****     frame->frame_type = TX_FRAME_TYPE;
 226              		.loc 1 64 26 view .LVU63
 227 0016 7080     		strh	r0, [r6, #2]	@ movhi
ARM GAS  /tmp/ccynBCE8.s 			page 9


  65:source/modules/xbee/xbee.c ****     frame->dst_address_64 = dst_addr;
 228              		.loc 1 65 5 is_stmt 1 view .LVU64
  65:source/modules/xbee/xbee.c ****     frame->dst_address_64 = dst_addr;
 229              		.loc 1 65 23 is_stmt 0 view .LVU65
 230 0018 1023     		movs	r3, #16
 231 001a 3371     		strb	r3, [r6, #4]
  66:source/modules/xbee/xbee.c ****     frame->reserved = hton16(0xFFFE);
 232              		.loc 1 66 5 is_stmt 1 view .LVU66
  66:source/modules/xbee/xbee.c ****     frame->reserved = hton16(0xFFFE);
 233              		.loc 1 66 27 is_stmt 0 view .LVU67
 234 001c 174B     		ldr	r3, .L15+4
 235 001e 1A68     		ldr	r2, [r3]
 236 0020 B260     		str	r2, [r6, #8]
 237 0022 5B68     		ldr	r3, [r3, #4]
 238 0024 F360     		str	r3, [r6, #12]
  67:source/modules/xbee/xbee.c ****     frame->radius = 0;
 239              		.loc 1 67 5 is_stmt 1 view .LVU68
  67:source/modules/xbee/xbee.c ****     frame->radius = 0;
 240              		.loc 1 67 23 is_stmt 0 view .LVU69
 241 0026 4FF6FE70 		movw	r0, #65534
 242 002a FFF7FEFF 		bl	hton16
 243              	.LVL21:
  67:source/modules/xbee/xbee.c ****     frame->radius = 0;
 244              		.loc 1 67 21 view .LVU70
 245 002e 3082     		strh	r0, [r6, #16]	@ movhi
  68:source/modules/xbee/xbee.c ****     frame->options = 0x80;
 246              		.loc 1 68 5 is_stmt 1 view .LVU71
  68:source/modules/xbee/xbee.c ****     frame->options = 0x80;
 247              		.loc 1 68 19 is_stmt 0 view .LVU72
 248 0030 0024     		movs	r4, #0
 249 0032 B474     		strb	r4, [r6, #18]
  69:source/modules/xbee/xbee.c **** 
 250              		.loc 1 69 5 is_stmt 1 view .LVU73
  69:source/modules/xbee/xbee.c **** 
 251              		.loc 1 69 20 is_stmt 0 view .LVU74
 252 0034 8023     		movs	r3, #128
 253 0036 F374     		strb	r3, [r6, #19]
  72:source/modules/xbee/xbee.c **** 
 254              		.loc 1 72 5 is_stmt 1 view .LVU75
 255 0038 2A46     		mov	r2, r5
 256 003a 3946     		mov	r1, r7
 257 003c 06F11800 		add	r0, r6, #24
 258 0040 FFF7FEFF 		bl	memcpy
 259              	.LVL22:
  74:source/modules/xbee/xbee.c ****     for (size_t i = sizeof(xb_header_t); i < len + sizeof(xb_tx_frame_t); i++) {
 260              		.loc 1 74 5 view .LVU76
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 261              		.loc 1 75 5 view .LVU77
 262              	.LBB2:
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 263              		.loc 1 75 10 view .LVU78
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 264              		.loc 1 75 17 is_stmt 0 view .LVU79
 265 0044 0420     		movs	r0, #4
 266              	.LBE2:
  74:source/modules/xbee/xbee.c ****     for (size_t i = sizeof(xb_header_t); i < len + sizeof(xb_tx_frame_t); i++) {
 267              		.loc 1 74 13 view .LVU80
ARM GAS  /tmp/ccynBCE8.s 			page 10


 268 0046 2346     		mov	r3, r4
 269              	.LBB3:
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 270              		.loc 1 75 5 view .LVU81
 271 0048 04E0     		b	.L10
 272              	.LVL23:
 273              	.L11:
  76:source/modules/xbee/xbee.c ****     }
 274              		.loc 1 76 9 is_stmt 1 discriminator 3 view .LVU82
  76:source/modules/xbee/xbee.c ****     }
 275              		.loc 1 76 25 is_stmt 0 discriminator 3 view .LVU83
 276 004a 0B4A     		ldr	r2, .L15
 277 004c 125C     		ldrb	r2, [r2, r0]	@ zero_extendqisi2
  76:source/modules/xbee/xbee.c ****     }
 278              		.loc 1 76 15 discriminator 3 view .LVU84
 279 004e 1344     		add	r3, r3, r2
 280              	.LVL24:
  76:source/modules/xbee/xbee.c ****     }
 281              		.loc 1 76 15 discriminator 3 view .LVU85
 282 0050 DBB2     		uxtb	r3, r3
 283              	.LVL25:
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 284              		.loc 1 75 76 is_stmt 1 discriminator 3 view .LVU86
 285 0052 0130     		adds	r0, r0, #1
 286              	.LVL26:
 287              	.L10:
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 288              		.loc 1 75 44 discriminator 1 view .LVU87
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 289              		.loc 1 75 50 is_stmt 0 discriminator 1 view .LVU88
 290 0054 05F11804 		add	r4, r5, #24
  75:source/modules/xbee/xbee.c ****         check += tx_buff[i];
 291              		.loc 1 75 44 discriminator 1 view .LVU89
 292 0058 8442     		cmp	r4, r0
 293 005a F6D8     		bhi	.L11
 294              	.LBE3:
  79:source/modules/xbee/xbee.c ****     memcpy(tx_buff + len + sizeof(xb_tx_frame_t), &check, 1);
 295              		.loc 1 79 5 is_stmt 1 view .LVU90
  79:source/modules/xbee/xbee.c ****     memcpy(tx_buff + len + sizeof(xb_tx_frame_t), &check, 1);
 296              		.loc 1 79 18 is_stmt 0 view .LVU91
 297 005c DB43     		mvns	r3, r3
 298              	.LVL27:
  80:source/modules/xbee/xbee.c **** 
 299              		.loc 1 80 5 is_stmt 1 view .LVU92
 300 005e 0648     		ldr	r0, .L15
 301              	.LVL28:
  80:source/modules/xbee/xbee.c **** 
 302              		.loc 1 80 5 is_stmt 0 view .LVU93
 303 0060 0355     		strb	r3, [r0, r4]
  82:source/modules/xbee/xbee.c ****     if (xb_write(tx_buff, write_len) < write_len) {
 304              		.loc 1 82 5 is_stmt 1 view .LVU94
  82:source/modules/xbee/xbee.c ****     if (xb_write(tx_buff, write_len) < write_len) {
 305              		.loc 1 82 12 is_stmt 0 view .LVU95
 306 0062 1935     		adds	r5, r5, #25
 307              	.LVL29:
  83:source/modules/xbee/xbee.c ****         // write error
 308              		.loc 1 83 5 is_stmt 1 view .LVU96
ARM GAS  /tmp/ccynBCE8.s 			page 11


  83:source/modules/xbee/xbee.c ****         // write error
 309              		.loc 1 83 9 is_stmt 0 view .LVU97
 310 0064 064B     		ldr	r3, .L15+8
 311              	.LVL30:
  83:source/modules/xbee/xbee.c ****         // write error
 312              		.loc 1 83 9 view .LVU98
 313 0066 1B68     		ldr	r3, [r3]
 314 0068 2946     		mov	r1, r5
 315 006a 9847     		blx	r3
 316              	.LVL31:
  83:source/modules/xbee/xbee.c ****         // write error
 317              		.loc 1 83 8 view .LVU99
 318 006c A842     		cmp	r0, r5
 319 006e 01D3     		bcc	.L13
  88:source/modules/xbee/xbee.c **** }
 320              		.loc 1 88 12 view .LVU100
 321 0070 0020     		movs	r0, #0
 322              	.L12:
  89:source/modules/xbee/xbee.c **** 
 323              		.loc 1 89 1 view .LVU101
 324 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 325              	.LVL32:
 326              	.L13:
  85:source/modules/xbee/xbee.c ****     }
 327              		.loc 1 85 16 view .LVU102
 328 0074 0120     		movs	r0, #1
 329 0076 FCE7     		b	.L12
 330              	.L16:
 331              		.align	2
 332              	.L15:
 333 0078 00000000 		.word	.LANCHOR0
 334 007c 00000000 		.word	.LANCHOR1
 335 0080 00000000 		.word	.LANCHOR2
 336              		.cfi_endproc
 337              	.LFE0:
 339              		.section	.text.xb_attach_rx_callback,"ax",%progbits
 340              		.align	1
 341              		.global	xb_attach_rx_callback
 342              		.syntax unified
 343              		.thumb
 344              		.thumb_func
 345              		.fpu fpv4-sp-d16
 347              	xb_attach_rx_callback:
 348              	.LVL33:
 349              	.LFB1:
  91:source/modules/xbee/xbee.c ****     rx_callback = rx;
 350              		.loc 1 91 67 is_stmt 1 view -0
 351              		.cfi_startproc
 352              		@ args = 0, pretend = 0, frame = 0
 353              		@ frame_needed = 0, uses_anonymous_args = 0
 354              		@ link register save eliminated.
  92:source/modules/xbee/xbee.c **** }
 355              		.loc 1 92 5 view .LVU104
  92:source/modules/xbee/xbee.c **** }
 356              		.loc 1 92 17 is_stmt 0 view .LVU105
 357 0000 014B     		ldr	r3, .L18
 358 0002 1860     		str	r0, [r3]
ARM GAS  /tmp/ccynBCE8.s 			page 12


  93:source/modules/xbee/xbee.c **** 
 359              		.loc 1 93 1 view .LVU106
 360 0004 7047     		bx	lr
 361              	.L19:
 362 0006 00BF     		.align	2
 363              	.L18:
 364 0008 00000000 		.word	.LANCHOR3
 365              		.cfi_endproc
 366              	.LFE1:
 368              		.section	.text.xb_raw_recv,"ax",%progbits
 369              		.align	1
 370              		.global	xb_raw_recv
 371              		.syntax unified
 372              		.thumb
 373              		.thumb_func
 374              		.fpu fpv4-sp-d16
 376              	xb_raw_recv:
 377              	.LVL34:
 378              	.LFB2:
  99:source/modules/xbee/xbee.c ****     typedef enum {
 379              		.loc 1 99 45 is_stmt 1 view -0
 380              		.cfi_startproc
 381              		@ args = 0, pretend = 0, frame = 0
 382              		@ frame_needed = 0, uses_anonymous_args = 0
  99:source/modules/xbee/xbee.c ****     typedef enum {
 383              		.loc 1 99 45 is_stmt 0 view .LVU108
 384 0000 70B5     		push	{r4, r5, r6, lr}
 385              	.LCFI2:
 386              		.cfi_def_cfa_offset 16
 387              		.cfi_offset 4, -16
 388              		.cfi_offset 5, -12
 389              		.cfi_offset 6, -8
 390              		.cfi_offset 14, -4
 391 0002 0546     		mov	r5, r0
 392 0004 0E46     		mov	r6, r1
 100:source/modules/xbee/xbee.c ****         WAITING_FOR_FRAME,
 393              		.loc 1 100 5 is_stmt 1 view .LVU109
 106:source/modules/xbee/xbee.c ****     static size_t to_read; // bytes left of payload to read
 394              		.loc 1 106 5 view .LVU110
 107:source/modules/xbee/xbee.c ****     static size_t payload_size;
 395              		.loc 1 107 5 view .LVU111
 108:source/modules/xbee/xbee.c **** 
 396              		.loc 1 108 5 view .LVU112
 110:source/modules/xbee/xbee.c ****     static uint8_t check = RX_FRAME_TYPE;
 397              		.loc 1 110 5 view .LVU113
 111:source/modules/xbee/xbee.c **** 
 398              		.loc 1 111 5 view .LVU114
 113:source/modules/xbee/xbee.c **** 
 399              		.loc 1 113 5 view .LVU115
 400              	.LVL35:
 113:source/modules/xbee/xbee.c **** 
 401              		.loc 1 113 12 is_stmt 0 view .LVU116
 402 0006 0024     		movs	r4, #0
 403              	.LVL36:
 404              	.L21:
 116:source/modules/xbee/xbee.c ****         case WAITING_FOR_FRAME:
 405              		.loc 1 116 5 is_stmt 1 view .LVU117
ARM GAS  /tmp/ccynBCE8.s 			page 13


 406 0008 374B     		ldr	r3, .L44
 407 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 408 000c 012B     		cmp	r3, #1
 409 000e 21D0     		beq	.L31
 410 0010 022B     		cmp	r3, #2
 411 0012 35D0     		beq	.L36
 412 0014 0BB1     		cbz	r3, .L25
 413              	.L20:
 178:source/modules/xbee/xbee.c **** 
 414              		.loc 1 178 1 is_stmt 0 view .LVU118
 415 0016 70BD     		pop	{r4, r5, r6, pc}
 416              	.LVL37:
 417              	.L27:
 118:source/modules/xbee/xbee.c ****                 if (buff[i] == START_DELIMETER) {
 418              		.loc 1 118 30 is_stmt 1 view .LVU119
 419 0018 0134     		adds	r4, r4, #1
 420              	.LVL38:
 421              	.L25:
 118:source/modules/xbee/xbee.c ****                 if (buff[i] == START_DELIMETER) {
 422              		.loc 1 118 22 discriminator 1 view .LVU120
 423 001a B442     		cmp	r4, r6
 424 001c 09D2     		bcs	.L39
 119:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_HEADER;
 425              		.loc 1 119 17 view .LVU121
 119:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_HEADER;
 426              		.loc 1 119 25 is_stmt 0 view .LVU122
 427 001e 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 119:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_HEADER;
 428              		.loc 1 119 20 view .LVU123
 429 0020 7E2B     		cmp	r3, #126
 430 0022 F9D1     		bne	.L27
 120:source/modules/xbee/xbee.c ****                     rx_index = 0;
 431              		.loc 1 120 21 is_stmt 1 view .LVU124
 120:source/modules/xbee/xbee.c ****                     rx_index = 0;
 432              		.loc 1 120 27 is_stmt 0 view .LVU125
 433 0024 304B     		ldr	r3, .L44
 434 0026 0122     		movs	r2, #1
 435 0028 1A70     		strb	r2, [r3]
 121:source/modules/xbee/xbee.c ****                 }
 436              		.loc 1 121 21 is_stmt 1 view .LVU126
 121:source/modules/xbee/xbee.c ****                 }
 437              		.loc 1 121 30 is_stmt 0 view .LVU127
 438 002a 304B     		ldr	r3, .L44+4
 439 002c 0022     		movs	r2, #0
 440 002e 1A60     		str	r2, [r3]
 441 0030 F2E7     		b	.L27
 442              	.L39:
 125:source/modules/xbee/xbee.c ****                 break;
 443              		.loc 1 125 13 is_stmt 1 view .LVU128
 125:source/modules/xbee/xbee.c ****                 break;
 444              		.loc 1 125 23 is_stmt 0 view .LVU129
 445 0032 2D4B     		ldr	r3, .L44
 446 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 125:source/modules/xbee/xbee.c ****                 break;
 447              		.loc 1 125 16 view .LVU130
 448 0036 6BB9     		cbnz	r3, .L31
 449 0038 EDE7     		b	.L20
ARM GAS  /tmp/ccynBCE8.s 			page 14


 450              	.L30:
 140:source/modules/xbee/xbee.c ****                     to_read = payload_size + 1; // read checksum too
 451              		.loc 1 140 21 is_stmt 1 view .LVU131
 140:source/modules/xbee/xbee.c ****                     to_read = payload_size + 1; // read checksum too
 452              		.loc 1 140 36 is_stmt 0 view .LVU132
 453 003a 2D4B     		ldr	r3, .L44+8
 454 003c 1888     		ldrh	r0, [r3]
 455 003e FFF7FEFF 		bl	ntoh16
 456              	.LVL39:
 140:source/modules/xbee/xbee.c ****                     to_read = payload_size + 1; // read checksum too
 457              		.loc 1 140 34 view .LVU133
 458 0042 2C4B     		ldr	r3, .L44+12
 459 0044 1860     		str	r0, [r3]
 141:source/modules/xbee/xbee.c ****                     state = READING_PAYLOAD;
 460              		.loc 1 141 21 is_stmt 1 view .LVU134
 141:source/modules/xbee/xbee.c ****                     state = READING_PAYLOAD;
 461              		.loc 1 141 44 is_stmt 0 view .LVU135
 462 0046 0130     		adds	r0, r0, #1
 141:source/modules/xbee/xbee.c ****                     state = READING_PAYLOAD;
 463              		.loc 1 141 29 view .LVU136
 464 0048 2B4B     		ldr	r3, .L44+16
 465 004a 1860     		str	r0, [r3]
 142:source/modules/xbee/xbee.c ****                 }
 466              		.loc 1 142 21 is_stmt 1 view .LVU137
 142:source/modules/xbee/xbee.c ****                 }
 467              		.loc 1 142 27 is_stmt 0 view .LVU138
 468 004c 264B     		ldr	r3, .L44
 469 004e 0222     		movs	r2, #2
 470 0050 1A70     		strb	r2, [r3]
 471              	.L29:
 131:source/modules/xbee/xbee.c ****                 rx_buff[rx_index] = buff[i];
 472              		.loc 1 131 30 is_stmt 1 view .LVU139
 473 0052 0134     		adds	r4, r4, #1
 474              	.LVL40:
 475              	.L31:
 131:source/modules/xbee/xbee.c ****                 rx_buff[rx_index] = buff[i];
 476              		.loc 1 131 22 discriminator 1 view .LVU140
 477 0054 B442     		cmp	r4, r6
 478 0056 0FD2     		bcs	.L40
 132:source/modules/xbee/xbee.c ****                 rx_index++;
 479              		.loc 1 132 17 view .LVU141
 132:source/modules/xbee/xbee.c ****                 rx_index++;
 480              		.loc 1 132 24 is_stmt 0 view .LVU142
 481 0058 244A     		ldr	r2, .L44+4
 482 005a 1368     		ldr	r3, [r2]
 132:source/modules/xbee/xbee.c ****                 rx_index++;
 483              		.loc 1 132 41 view .LVU143
 484 005c 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 132:source/modules/xbee/xbee.c ****                 rx_index++;
 485              		.loc 1 132 35 view .LVU144
 486 005e 2449     		ldr	r1, .L44+8
 487 0060 C854     		strb	r0, [r1, r3]
 133:source/modules/xbee/xbee.c ****                 if (rx_index > 3) {
 488              		.loc 1 133 17 is_stmt 1 view .LVU145
 133:source/modules/xbee/xbee.c ****                 if (rx_index > 3) {
 489              		.loc 1 133 25 is_stmt 0 view .LVU146
 490 0062 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccynBCE8.s 			page 15


 491 0064 1360     		str	r3, [r2]
 134:source/modules/xbee/xbee.c ****                     if (rx_buff[2] != RX_FRAME_TYPE) {
 492              		.loc 1 134 17 is_stmt 1 view .LVU147
 134:source/modules/xbee/xbee.c ****                     if (rx_buff[2] != RX_FRAME_TYPE) {
 493              		.loc 1 134 20 is_stmt 0 view .LVU148
 494 0066 032B     		cmp	r3, #3
 495 0068 F3D9     		bls	.L29
 135:source/modules/xbee/xbee.c ****                         state = WAITING_FOR_HEADER;
 496              		.loc 1 135 21 is_stmt 1 view .LVU149
 135:source/modules/xbee/xbee.c ****                         state = WAITING_FOR_HEADER;
 497              		.loc 1 135 32 is_stmt 0 view .LVU150
 498 006a 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 135:source/modules/xbee/xbee.c ****                         state = WAITING_FOR_HEADER;
 499              		.loc 1 135 24 view .LVU151
 500 006c 902B     		cmp	r3, #144
 501 006e E4D0     		beq	.L30
 136:source/modules/xbee/xbee.c ****                         goto start_switch; // gross
 502              		.loc 1 136 25 is_stmt 1 view .LVU152
 136:source/modules/xbee/xbee.c ****                         goto start_switch; // gross
 503              		.loc 1 136 31 is_stmt 0 view .LVU153
 504 0070 1D4B     		ldr	r3, .L44
 505 0072 0122     		movs	r2, #1
 506 0074 1A70     		strb	r2, [r3]
 137:source/modules/xbee/xbee.c ****                     }
 507              		.loc 1 137 25 is_stmt 1 view .LVU154
 508 0076 C7E7     		b	.L21
 509              	.L40:
 146:source/modules/xbee/xbee.c ****                 break;
 510              		.loc 1 146 13 view .LVU155
 146:source/modules/xbee/xbee.c ****                 break;
 511              		.loc 1 146 23 is_stmt 0 view .LVU156
 512 0078 1B4B     		ldr	r3, .L44
 513 007a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 146:source/modules/xbee/xbee.c ****                 break;
 514              		.loc 1 146 16 view .LVU157
 515 007c 012B     		cmp	r3, #1
 516 007e CAD0     		beq	.L20
 517              	.L36:
 151:source/modules/xbee/xbee.c ****                 rx_buff[rx_index++] = buff[i];
 518              		.loc 1 151 22 is_stmt 1 discriminator 1 view .LVU158
 519 0080 B442     		cmp	r4, r6
 520 0082 C8D2     		bcs	.L20
 152:source/modules/xbee/xbee.c ****                 to_read--;
 521              		.loc 1 152 17 view .LVU159
 152:source/modules/xbee/xbee.c ****                 to_read--;
 522              		.loc 1 152 43 is_stmt 0 view .LVU160
 523 0084 05EB040C 		add	ip, r5, r4
 152:source/modules/xbee/xbee.c ****                 to_read--;
 524              		.loc 1 152 33 view .LVU161
 525 0088 1849     		ldr	r1, .L44+4
 526 008a 0B68     		ldr	r3, [r1]
 527 008c 5A1C     		adds	r2, r3, #1
 528 008e 0A60     		str	r2, [r1]
 152:source/modules/xbee/xbee.c ****                 to_read--;
 529              		.loc 1 152 43 view .LVU162
 530 0090 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 152:source/modules/xbee/xbee.c ****                 to_read--;
ARM GAS  /tmp/ccynBCE8.s 			page 16


 531              		.loc 1 152 37 view .LVU163
 532 0092 1749     		ldr	r1, .L44+8
 533 0094 C854     		strb	r0, [r1, r3]
 153:source/modules/xbee/xbee.c **** 
 534              		.loc 1 153 17 is_stmt 1 view .LVU164
 153:source/modules/xbee/xbee.c **** 
 535              		.loc 1 153 24 is_stmt 0 view .LVU165
 536 0096 1849     		ldr	r1, .L44+16
 537 0098 0B68     		ldr	r3, [r1]
 538 009a 013B     		subs	r3, r3, #1
 539 009c 0B60     		str	r3, [r1]
 155:source/modules/xbee/xbee.c ****                     // overflow, throw away packet
 540              		.loc 1 155 17 is_stmt 1 view .LVU166
 155:source/modules/xbee/xbee.c ****                     // overflow, throw away packet
 541              		.loc 1 155 20 is_stmt 0 view .LVU167
 542 009e B2F5006F 		cmp	r2, #2048
 543 00a2 08D8     		bhi	.L41
 162:source/modules/xbee/xbee.c ****                     if (rx_callback) {
 544              		.loc 1 162 17 is_stmt 1 view .LVU168
 162:source/modules/xbee/xbee.c ****                     if (rx_callback) {
 545              		.loc 1 162 20 is_stmt 0 view .LVU169
 546 00a4 5BB1     		cbz	r3, .L42
 174:source/modules/xbee/xbee.c ****                 }
 547              		.loc 1 174 21 is_stmt 1 view .LVU170
 174:source/modules/xbee/xbee.c ****                 }
 548              		.loc 1 174 34 is_stmt 0 view .LVU171
 549 00a6 9CF80030 		ldrb	r3, [ip]	@ zero_extendqisi2
 174:source/modules/xbee/xbee.c ****                 }
 550              		.loc 1 174 27 view .LVU172
 551 00aa 144A     		ldr	r2, .L44+20
 552 00ac 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 553 00ae 0B44     		add	r3, r3, r1
 554 00b0 1370     		strb	r3, [r2]
 151:source/modules/xbee/xbee.c ****                 rx_buff[rx_index++] = buff[i];
 555              		.loc 1 151 30 is_stmt 1 view .LVU173
 556 00b2 0134     		adds	r4, r4, #1
 557              	.LVL41:
 151:source/modules/xbee/xbee.c ****                 rx_buff[rx_index++] = buff[i];
 558              		.loc 1 151 30 is_stmt 0 view .LVU174
 559 00b4 E4E7     		b	.L36
 560              	.L41:
 157:source/modules/xbee/xbee.c ****                     goto start_switch;
 561              		.loc 1 157 21 is_stmt 1 view .LVU175
 157:source/modules/xbee/xbee.c ****                     goto start_switch;
 562              		.loc 1 157 27 is_stmt 0 view .LVU176
 563 00b6 0C4B     		ldr	r3, .L44
 564 00b8 0022     		movs	r2, #0
 565 00ba 1A70     		strb	r2, [r3]
 158:source/modules/xbee/xbee.c ****                 }
 566              		.loc 1 158 21 is_stmt 1 view .LVU177
 567 00bc A4E7     		b	.L21
 568              	.L42:
 163:source/modules/xbee/xbee.c ****                         uint8_t checksum = 0xFF - check;
 569              		.loc 1 163 21 view .LVU178
 163:source/modules/xbee/xbee.c ****                         uint8_t checksum = 0xFF - check;
 570              		.loc 1 163 25 is_stmt 0 view .LVU179
 571 00be 104B     		ldr	r3, .L44+24
ARM GAS  /tmp/ccynBCE8.s 			page 17


 572 00c0 1A68     		ldr	r2, [r3]
 163:source/modules/xbee/xbee.c ****                         uint8_t checksum = 0xFF - check;
 573              		.loc 1 163 24 view .LVU180
 574 00c2 2AB1     		cbz	r2, .L35
 575              	.LBB4:
 164:source/modules/xbee/xbee.c ****                         if (checksum == rx_buff[rx_index - 1]) {
 576              		.loc 1 164 25 is_stmt 1 view .LVU181
 164:source/modules/xbee/xbee.c ****                         if (checksum == rx_buff[rx_index - 1]) {
 577              		.loc 1 164 49 is_stmt 0 view .LVU182
 578 00c4 0D4B     		ldr	r3, .L44+20
 579 00c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 164:source/modules/xbee/xbee.c ****                         if (checksum == rx_buff[rx_index - 1]) {
 580              		.loc 1 164 33 view .LVU183
 581 00c8 DB43     		mvns	r3, r3
 582 00ca DBB2     		uxtb	r3, r3
 583              	.LVL42:
 165:source/modules/xbee/xbee.c ****                             rx_callback(rx_buff + 14, payload_size);
 584              		.loc 1 165 25 is_stmt 1 view .LVU184
 165:source/modules/xbee/xbee.c ****                             rx_callback(rx_buff + 14, payload_size);
 585              		.loc 1 165 28 is_stmt 0 view .LVU185
 586 00cc 9842     		cmp	r0, r3
 587 00ce 06D0     		beq	.L43
 588              	.LVL43:
 589              	.L35:
 165:source/modules/xbee/xbee.c ****                             rx_callback(rx_buff + 14, payload_size);
 590              		.loc 1 165 28 view .LVU186
 591              	.LBE4:
 170:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_FRAME;
 592              		.loc 1 170 21 is_stmt 1 view .LVU187
 170:source/modules/xbee/xbee.c ****                     state = WAITING_FOR_FRAME;
 593              		.loc 1 170 27 is_stmt 0 view .LVU188
 594 00d0 0A4B     		ldr	r3, .L44+20
 595 00d2 9022     		movs	r2, #144
 596 00d4 1A70     		strb	r2, [r3]
 171:source/modules/xbee/xbee.c ****                     goto start_switch;
 597              		.loc 1 171 21 is_stmt 1 view .LVU189
 171:source/modules/xbee/xbee.c ****                     goto start_switch;
 598              		.loc 1 171 27 is_stmt 0 view .LVU190
 599 00d6 044B     		ldr	r3, .L44
 600 00d8 0022     		movs	r2, #0
 601 00da 1A70     		strb	r2, [r3]
 172:source/modules/xbee/xbee.c ****                 } else {
 602              		.loc 1 172 21 is_stmt 1 view .LVU191
 603              	.L22:
 604 00dc 94E7     		b	.L21
 605              	.LVL44:
 606              	.L43:
 607              	.LBB5:
 166:source/modules/xbee/xbee.c ****                         } // else bad check, throwaway
 608              		.loc 1 166 29 view .LVU192
 609 00de 054B     		ldr	r3, .L44+12
 610              	.LVL45:
 166:source/modules/xbee/xbee.c ****                         } // else bad check, throwaway
 611              		.loc 1 166 29 is_stmt 0 view .LVU193
 612 00e0 1968     		ldr	r1, [r3]
 613 00e2 0848     		ldr	r0, .L44+28
 614 00e4 9047     		blx	r2
ARM GAS  /tmp/ccynBCE8.s 			page 18


 615              	.LVL46:
 166:source/modules/xbee/xbee.c ****                         } // else bad check, throwaway
 616              		.loc 1 166 29 view .LVU194
 617 00e6 F3E7     		b	.L35
 618              	.L45:
 619              		.align	2
 620              	.L44:
 621 00e8 00000000 		.word	.LANCHOR4
 622 00ec 00000000 		.word	.LANCHOR5
 623 00f0 00000000 		.word	.LANCHOR6
 624 00f4 00000000 		.word	.LANCHOR7
 625 00f8 00000000 		.word	.LANCHOR8
 626 00fc 00000000 		.word	.LANCHOR9
 627 0100 00000000 		.word	.LANCHOR3
 628 0104 0E000000 		.word	.LANCHOR6+14
 629              	.LBE5:
 630              		.cfi_endproc
 631              	.LFE2:
 633              		.section	.text.xb_set_dst,"ax",%progbits
 634              		.align	1
 635              		.global	xb_set_dst
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv4-sp-d16
 641              	xb_set_dst:
 642              	.LVL47:
 643              	.LFB3:
 180:source/modules/xbee/xbee.c ****     dst_addr = addr;
 644              		.loc 1 180 32 is_stmt 1 view -0
 645              		.cfi_startproc
 646              		@ args = 0, pretend = 0, frame = 0
 647              		@ frame_needed = 0, uses_anonymous_args = 0
 648              		@ link register save eliminated.
 181:source/modules/xbee/xbee.c **** }
 649              		.loc 1 181 5 view .LVU196
 181:source/modules/xbee/xbee.c **** }
 650              		.loc 1 181 14 is_stmt 0 view .LVU197
 651 0000 014B     		ldr	r3, .L47
 652 0002 C3E90001 		strd	r0, [r3]
 182:source/modules/xbee/xbee.c **** 
 653              		.loc 1 182 1 view .LVU198
 654 0006 7047     		bx	lr
 655              	.L48:
 656              		.align	2
 657              	.L47:
 658 0008 00000000 		.word	.LANCHOR1
 659              		.cfi_endproc
 660              	.LFE3:
 662              		.section	.rodata.xb_cmd_dio.str1.4,"aMS",%progbits,1
 663              		.align	2
 664              	.LC0:
 665 0000 3400     		.ascii	"4\000"
 666 0002 0000     		.align	2
 667              	.LC1:
 668 0004 3500     		.ascii	"5\000"
 669              		.section	.text.xb_cmd_dio,"ax",%progbits
ARM GAS  /tmp/ccynBCE8.s 			page 19


 670              		.align	1
 671              		.global	xb_cmd_dio
 672              		.syntax unified
 673              		.thumb
 674              		.thumb_func
 675              		.fpu fpv4-sp-d16
 677              	xb_cmd_dio:
 678              	.LVL48:
 679              	.LFB5:
 218:source/modules/xbee/xbee.c **** 
 219:source/modules/xbee/xbee.c **** xb_ret_t xb_cmd_dio(xb_dio_t dio, xb_dio_output_t output) {
 680              		.loc 1 219 59 is_stmt 1 view -0
 681              		.cfi_startproc
 682              		@ args = 0, pretend = 0, frame = 8
 683              		@ frame_needed = 0, uses_anonymous_args = 0
 220:source/modules/xbee/xbee.c ****     char cmd[2];
 684              		.loc 1 220 5 view .LVU200
 221:source/modules/xbee/xbee.c **** 
 222:source/modules/xbee/xbee.c ****     switch (dio) {
 685              		.loc 1 222 5 view .LVU201
 686 0000 88B9     		cbnz	r0, .L52
 219:source/modules/xbee/xbee.c ****     char cmd[2];
 687              		.loc 1 219 59 is_stmt 0 view .LVU202
 688 0002 00B5     		push	{lr}
 689              	.LCFI3:
 690              		.cfi_def_cfa_offset 4
 691              		.cfi_offset 14, -4
 692 0004 83B0     		sub	sp, sp, #12
 693              	.LCFI4:
 694              		.cfi_def_cfa_offset 16
 223:source/modules/xbee/xbee.c ****         case XB_DIO12:
 224:source/modules/xbee/xbee.c ****             // P2
 225:source/modules/xbee/xbee.c ****             cmd[0] = 'P';
 695              		.loc 1 225 13 is_stmt 1 view .LVU203
 696              		.loc 1 225 20 is_stmt 0 view .LVU204
 697 0006 5023     		movs	r3, #80
 698 0008 8DF80430 		strb	r3, [sp, #4]
 226:source/modules/xbee/xbee.c ****             cmd[1] = '2';
 699              		.loc 1 226 13 is_stmt 1 view .LVU205
 700              		.loc 1 226 20 is_stmt 0 view .LVU206
 701 000c 3223     		movs	r3, #50
 702 000e 8DF80530 		strb	r3, [sp, #5]
 227:source/modules/xbee/xbee.c ****             break;
 703              		.loc 1 227 13 is_stmt 1 view .LVU207
 228:source/modules/xbee/xbee.c ****         default:
 229:source/modules/xbee/xbee.c ****             return XB_ERR;
 230:source/modules/xbee/xbee.c ****     }
 231:source/modules/xbee/xbee.c **** 
 232:source/modules/xbee/xbee.c ****     // TODO I'm not sure if the parameter is passed as ASCII or binary
 233:source/modules/xbee/xbee.c ****     char *param = "4";
 704              		.loc 1 233 5 view .LVU208
 705              	.LVL49:
 234:source/modules/xbee/xbee.c ****     if (output == XB_DIO_HIGH) {
 706              		.loc 1 234 5 view .LVU209
 707              		.loc 1 234 8 is_stmt 0 view .LVU210
 708 0012 31B1     		cbz	r1, .L53
 233:source/modules/xbee/xbee.c ****     if (output == XB_DIO_HIGH) {
ARM GAS  /tmp/ccynBCE8.s 			page 20


 709              		.loc 1 233 11 view .LVU211
 710 0014 0549     		ldr	r1, .L58
 711              	.LVL50:
 712              	.L51:
 235:source/modules/xbee/xbee.c ****         param = "5";
 236:source/modules/xbee/xbee.c ****     } // else low (4)
 237:source/modules/xbee/xbee.c **** 
 238:source/modules/xbee/xbee.c ****     return xb_at_cmd(cmd, param);
 713              		.loc 1 238 5 is_stmt 1 view .LVU212
 714              		.loc 1 238 12 is_stmt 0 view .LVU213
 715 0016 01A8     		add	r0, sp, #4
 716              	.LVL51:
 717              		.loc 1 238 12 view .LVU214
 718 0018 FFF7FEFF 		bl	xb_at_cmd
 719              	.LVL52:
 239:source/modules/xbee/xbee.c **** }
 720              		.loc 1 239 1 view .LVU215
 721 001c 03B0     		add	sp, sp, #12
 722              	.LCFI5:
 723              		.cfi_remember_state
 724              		.cfi_def_cfa_offset 4
 725              		@ sp needed
 726 001e 5DF804FB 		ldr	pc, [sp], #4
 727              	.LVL53:
 728              	.L53:
 729              	.LCFI6:
 730              		.cfi_restore_state
 235:source/modules/xbee/xbee.c ****         param = "5";
 731              		.loc 1 235 15 view .LVU216
 732 0022 0349     		ldr	r1, .L58+4
 733              	.LVL54:
 235:source/modules/xbee/xbee.c ****         param = "5";
 734              		.loc 1 235 15 view .LVU217
 735 0024 F7E7     		b	.L51
 736              	.LVL55:
 737              	.L52:
 738              	.LCFI7:
 739              		.cfi_def_cfa_offset 0
 740              		.cfi_restore 14
 229:source/modules/xbee/xbee.c ****     }
 741              		.loc 1 229 20 view .LVU218
 742 0026 0120     		movs	r0, #1
 743              	.LVL56:
 744              		.loc 1 239 1 view .LVU219
 745 0028 7047     		bx	lr
 746              	.L59:
 747 002a 00BF     		.align	2
 748              	.L58:
 749 002c 00000000 		.word	.LC0
 750 0030 04000000 		.word	.LC1
 751              		.cfi_endproc
 752              	.LFE5:
 754              		.section	.rodata.xb_init.str1.4,"aMS",%progbits,1
 755              		.align	2
 756              	.LC2:
 757 0000 2B2B2B00 		.ascii	"+++\000"
 758              		.align	2
ARM GAS  /tmp/ccynBCE8.s 			page 21


 759              	.LC3:
 760 0004 41544150 		.ascii	"ATAP1\015\000"
 760      310D00
 761              		.section	.text.xb_init,"ax",%progbits
 762              		.align	1
 763              		.global	xb_init
 764              		.syntax unified
 765              		.thumb
 766              		.thumb_func
 767              		.fpu fpv4-sp-d16
 769              	xb_init:
 770              	.LVL57:
 771              	.LFB6:
 240:source/modules/xbee/xbee.c **** 
 241:source/modules/xbee/xbee.c **** xb_ret_t xb_init(int (*write)(uint8_t *buf, size_t len)) {
 772              		.loc 1 241 58 is_stmt 1 view -0
 773              		.cfi_startproc
 774              		@ args = 0, pretend = 0, frame = 0
 775              		@ frame_needed = 0, uses_anonymous_args = 0
 776              		.loc 1 241 58 is_stmt 0 view .LVU221
 777 0000 08B5     		push	{r3, lr}
 778              	.LCFI8:
 779              		.cfi_def_cfa_offset 8
 780              		.cfi_offset 3, -8
 781              		.cfi_offset 14, -4
 782 0002 0346     		mov	r3, r0
 242:source/modules/xbee/xbee.c ****     xb_write = write;
 783              		.loc 1 242 5 is_stmt 1 view .LVU222
 784              		.loc 1 242 14 is_stmt 0 view .LVU223
 785 0004 0B4A     		ldr	r2, .L66
 786 0006 1060     		str	r0, [r2]
 243:source/modules/xbee/xbee.c **** 
 244:source/modules/xbee/xbee.c ****     // enter command mode
 245:source/modules/xbee/xbee.c ****     if (xb_write((uint8_t *) "+++", 3) < 3) {
 787              		.loc 1 245 5 is_stmt 1 view .LVU224
 788              		.loc 1 245 9 is_stmt 0 view .LVU225
 789 0008 0321     		movs	r1, #3
 790 000a 0B48     		ldr	r0, .L66+4
 791              	.LVL58:
 792              		.loc 1 245 9 view .LVU226
 793 000c 9847     		blx	r3
 794              	.LVL59:
 795              		.loc 1 245 8 view .LVU227
 796 000e 0228     		cmp	r0, #2
 797 0010 01DC     		bgt	.L65
 246:source/modules/xbee/xbee.c ****         // write failure
 247:source/modules/xbee/xbee.c ****         return XB_ERR;
 798              		.loc 1 247 16 view .LVU228
 799 0012 0120     		movs	r0, #1
 800              	.L61:
 248:source/modules/xbee/xbee.c ****     }
 249:source/modules/xbee/xbee.c **** 
 250:source/modules/xbee/xbee.c ****     // the line should be silent for 1s
 251:source/modules/xbee/xbee.c ****     // wait for 1.5s to be safe
 252:source/modules/xbee/xbee.c ****     spinlock(1500);
 253:source/modules/xbee/xbee.c **** 
 254:source/modules/xbee/xbee.c ****     // send command to put into API mode
ARM GAS  /tmp/ccynBCE8.s 			page 22


 255:source/modules/xbee/xbee.c ****     const char *at_cmd = "ATAP1\r"; // API mode without escapes
 256:source/modules/xbee/xbee.c **** 
 257:source/modules/xbee/xbee.c ****     if (xb_write((uint8_t *) at_cmd, 6) < 6) {
 258:source/modules/xbee/xbee.c ****         // write failure
 259:source/modules/xbee/xbee.c ****         return XB_ERR;
 260:source/modules/xbee/xbee.c ****     }
 261:source/modules/xbee/xbee.c **** 
 262:source/modules/xbee/xbee.c ****     // at this point we're in API mode
 263:source/modules/xbee/xbee.c **** 
 264:source/modules/xbee/xbee.c ****     return XB_OK;
 265:source/modules/xbee/xbee.c **** }
 801              		.loc 1 265 1 view .LVU229
 802 0014 08BD     		pop	{r3, pc}
 803              	.L65:
 252:source/modules/xbee/xbee.c **** 
 804              		.loc 1 252 5 is_stmt 1 view .LVU230
 805 0016 40F2DC50 		movw	r0, #1500
 806 001a FFF7FEFF 		bl	spinlock
 807              	.LVL60:
 255:source/modules/xbee/xbee.c **** 
 808              		.loc 1 255 5 view .LVU231
 257:source/modules/xbee/xbee.c ****         // write failure
 809              		.loc 1 257 5 view .LVU232
 257:source/modules/xbee/xbee.c ****         // write failure
 810              		.loc 1 257 9 is_stmt 0 view .LVU233
 811 001e 054B     		ldr	r3, .L66
 812 0020 1B68     		ldr	r3, [r3]
 813 0022 0621     		movs	r1, #6
 814 0024 0548     		ldr	r0, .L66+8
 815 0026 9847     		blx	r3
 816              	.LVL61:
 257:source/modules/xbee/xbee.c ****         // write failure
 817              		.loc 1 257 8 view .LVU234
 818 0028 0528     		cmp	r0, #5
 819 002a 01DD     		ble	.L63
 264:source/modules/xbee/xbee.c **** }
 820              		.loc 1 264 12 view .LVU235
 821 002c 0020     		movs	r0, #0
 822 002e F1E7     		b	.L61
 823              	.L63:
 259:source/modules/xbee/xbee.c ****     }
 824              		.loc 1 259 16 view .LVU236
 825 0030 0120     		movs	r0, #1
 826 0032 EFE7     		b	.L61
 827              	.L67:
 828              		.align	2
 829              	.L66:
 830 0034 00000000 		.word	.LANCHOR2
 831 0038 00000000 		.word	.LC2
 832 003c 04000000 		.word	.LC3
 833              		.cfi_endproc
 834              	.LFE6:
 836              		.global	xb_write
 837              		.section	.bss.payload_size.2,"aw",%nobits
 838              		.align	2
 839              		.set	.LANCHOR7,. + 0
 842              	payload_size.2:
ARM GAS  /tmp/ccynBCE8.s 			page 23


 843 0000 00000000 		.space	4
 844              		.section	.bss.rx_buff,"aw",%nobits
 845              		.align	2
 846              		.set	.LANCHOR6,. + 0
 849              	rx_buff:
 850 0000 00000000 		.space	2048
 850      00000000 
 850      00000000 
 850      00000000 
 850      00000000 
 851              		.section	.bss.rx_callback,"aw",%nobits
 852              		.align	2
 853              		.set	.LANCHOR3,. + 0
 856              	rx_callback:
 857 0000 00000000 		.space	4
 858              		.section	.bss.rx_index.3,"aw",%nobits
 859              		.align	2
 860              		.set	.LANCHOR5,. + 0
 863              	rx_index.3:
 864 0000 00000000 		.space	4
 865              		.section	.bss.state.4,"aw",%nobits
 866              		.set	.LANCHOR4,. + 0
 869              	state.4:
 870 0000 00       		.space	1
 871              		.section	.bss.to_read.1,"aw",%nobits
 872              		.align	2
 873              		.set	.LANCHOR8,. + 0
 876              	to_read.1:
 877 0000 00000000 		.space	4
 878              		.section	.bss.tx_buff,"aw",%nobits
 879              		.align	2
 880              		.set	.LANCHOR0,. + 0
 883              	tx_buff:
 884 0000 00000000 		.space	1024
 884      00000000 
 884      00000000 
 884      00000000 
 884      00000000 
 885              		.section	.bss.xb_write,"aw",%nobits
 886              		.align	2
 887              		.set	.LANCHOR2,. + 0
 890              	xb_write:
 891 0000 00000000 		.space	4
 892              		.section	.data.check.0,"aw"
 893              		.set	.LANCHOR9,. + 0
 896              	check.0:
 897 0000 90       		.byte	-112
 898              		.section	.data.dst_addr,"aw"
 899              		.align	3
 900              		.set	.LANCHOR1,. + 0
 903              	dst_addr:
 904 0000 FFFF0000 		.word	65535
 905 0004 00000000 		.word	0
 906              		.text
 907              	.Letext0:
 908              		.file 2 "/usr/lib/gcc/arm-none-eabi/11.2.0/include/stddef.h"
 909              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
ARM GAS  /tmp/ccynBCE8.s 			page 24


 910              		.file 4 "/usr/arm-none-eabi/include/sys/_stdint.h"
 911              		.file 5 "source/modules/xbee/xbee.h"
 912              		.file 6 "/usr/arm-none-eabi/include/string.h"
 913              		.file 7 "source/modules/net/net.h"
 914              		.file 8 "source/modules/spinlock/spinlock.h"
 915              		.file 9 "<built-in>"
ARM GAS  /tmp/ccynBCE8.s 			page 25


DEFINED SYMBOLS
                            *ABS*:0000000000000000 xbee.c
     /tmp/ccynBCE8.s:18     .text.xb_at_cmd:0000000000000000 $t
     /tmp/ccynBCE8.s:25     .text.xb_at_cmd:0000000000000000 xb_at_cmd
     /tmp/ccynBCE8.s:178    .text.xb_at_cmd:0000000000000090 $d
     /tmp/ccynBCE8.s:185    .text.xb_tx:0000000000000000 $t
     /tmp/ccynBCE8.s:192    .text.xb_tx:0000000000000000 xb_tx
     /tmp/ccynBCE8.s:333    .text.xb_tx:0000000000000078 $d
     /tmp/ccynBCE8.s:340    .text.xb_attach_rx_callback:0000000000000000 $t
     /tmp/ccynBCE8.s:347    .text.xb_attach_rx_callback:0000000000000000 xb_attach_rx_callback
     /tmp/ccynBCE8.s:364    .text.xb_attach_rx_callback:0000000000000008 $d
     /tmp/ccynBCE8.s:369    .text.xb_raw_recv:0000000000000000 $t
     /tmp/ccynBCE8.s:376    .text.xb_raw_recv:0000000000000000 xb_raw_recv
     /tmp/ccynBCE8.s:621    .text.xb_raw_recv:00000000000000e8 $d
     /tmp/ccynBCE8.s:634    .text.xb_set_dst:0000000000000000 $t
     /tmp/ccynBCE8.s:641    .text.xb_set_dst:0000000000000000 xb_set_dst
     /tmp/ccynBCE8.s:658    .text.xb_set_dst:0000000000000008 $d
     /tmp/ccynBCE8.s:663    .rodata.xb_cmd_dio.str1.4:0000000000000000 $d
     /tmp/ccynBCE8.s:670    .text.xb_cmd_dio:0000000000000000 $t
     /tmp/ccynBCE8.s:677    .text.xb_cmd_dio:0000000000000000 xb_cmd_dio
     /tmp/ccynBCE8.s:749    .text.xb_cmd_dio:000000000000002c $d
     /tmp/ccynBCE8.s:755    .rodata.xb_init.str1.4:0000000000000000 $d
     /tmp/ccynBCE8.s:762    .text.xb_init:0000000000000000 $t
     /tmp/ccynBCE8.s:769    .text.xb_init:0000000000000000 xb_init
     /tmp/ccynBCE8.s:830    .text.xb_init:0000000000000034 $d
     /tmp/ccynBCE8.s:890    .bss.xb_write:0000000000000000 xb_write
     /tmp/ccynBCE8.s:838    .bss.payload_size.2:0000000000000000 $d
     /tmp/ccynBCE8.s:842    .bss.payload_size.2:0000000000000000 payload_size.2
     /tmp/ccynBCE8.s:845    .bss.rx_buff:0000000000000000 $d
     /tmp/ccynBCE8.s:849    .bss.rx_buff:0000000000000000 rx_buff
     /tmp/ccynBCE8.s:852    .bss.rx_callback:0000000000000000 $d
     /tmp/ccynBCE8.s:856    .bss.rx_callback:0000000000000000 rx_callback
     /tmp/ccynBCE8.s:859    .bss.rx_index.3:0000000000000000 $d
     /tmp/ccynBCE8.s:863    .bss.rx_index.3:0000000000000000 rx_index.3
     /tmp/ccynBCE8.s:869    .bss.state.4:0000000000000000 state.4
     /tmp/ccynBCE8.s:870    .bss.state.4:0000000000000000 $d
     /tmp/ccynBCE8.s:872    .bss.to_read.1:0000000000000000 $d
     /tmp/ccynBCE8.s:876    .bss.to_read.1:0000000000000000 to_read.1
     /tmp/ccynBCE8.s:879    .bss.tx_buff:0000000000000000 $d
     /tmp/ccynBCE8.s:883    .bss.tx_buff:0000000000000000 tx_buff
     /tmp/ccynBCE8.s:886    .bss.xb_write:0000000000000000 $d
     /tmp/ccynBCE8.s:896    .data.check.0:0000000000000000 check.0
     /tmp/ccynBCE8.s:899    .data.dst_addr:0000000000000000 $d
     /tmp/ccynBCE8.s:903    .data.dst_addr:0000000000000000 dst_addr

UNDEFINED SYMBOLS
strlen
hton16
memcpy
ntoh16
spinlock
