ARM GAS  /tmp/cckmMliH.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"init.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ts_systime,"ax",%progbits
  18              		.align	1
  19              		.global	ts_systime
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	ts_systime:
  27              		.fnstart
  28              	.LFB132:
  29              		.file 1 "source/init/init.cpp"
   1:source/init/init.cpp **** #include "main.h"
   2:source/init/init.cpp **** 
   3:source/init/init.cpp **** extern "C" {
   4:source/init/init.cpp ****     #include "ts.h"
   5:source/init/init.cpp **** }
   6:source/init/init.cpp **** 
   7:source/init/init.cpp **** // needed by scheduler
   8:source/init/init.cpp **** long int ts_systime() {
  30              		.loc 1 8 23 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34 0000 08B5     		push	{r3, lr}
  35              		.save {r3, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
   9:source/init/init.cpp ****     return (long int)HAL_GetTick();
  40              		.loc 1 9 5 view .LVU1
  41              		.loc 1 9 33 is_stmt 0 view .LVU2
  42 0002 FFF7FEFF 		bl	HAL_GetTick
  43              	.LVL0:
  10:source/init/init.cpp **** }
  44              		.loc 1 10 1 view .LVU3
  45 0006 08BD     		pop	{r3, pc}
  46              		.cfi_endproc
  47              	.LFE132:
  48              		.fnend
ARM GAS  /tmp/cckmMliH.s 			page 2


  50              		.section	.text._Z4idleP9tiny_task,"ax",%progbits
  51              		.align	1
  52              		.global	_Z4idleP9tiny_task
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu fpv4-sp-d16
  58              	_Z4idleP9tiny_task:
  59              		.fnstart
  60              	.LVL1:
  61              	.LFB133:
  11:source/init/init.cpp **** 
  12:source/init/init.cpp **** void idle(tiny_task_t* task) {
  62              		.loc 1 12 30 is_stmt 1 view -0
  63              		.cfi_startproc
  64              		@ args = 0, pretend = 0, frame = 0
  65              		@ frame_needed = 0, uses_anonymous_args = 0
  66              		@ link register save eliminated.
  13:source/init/init.cpp ****     return;
  67              		.loc 1 13 5 view .LVU5
  14:source/init/init.cpp **** }
  68              		.loc 1 14 1 is_stmt 0 view .LVU6
  69 0000 7047     		bx	lr
  70              		.cfi_endproc
  71              	.LFE133:
  72              		.cantunwind
  73              		.fnend
  75              		.section	.text._Z4initv,"ax",%progbits
  76              		.align	1
  77              		.global	_Z4initv
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  81              		.fpu fpv4-sp-d16
  83              	_Z4initv:
  84              		.fnstart
  85              	.LFB134:
  15:source/init/init.cpp **** 
  16:source/init/init.cpp **** // this is the entry point of the program after STM32 autogenerated initializations are complete
  17:source/init/init.cpp **** // NOTE: init should not return
  18:source/init/init.cpp **** void init() {
  86              		.loc 1 18 13 is_stmt 1 view -0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 16
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90 0000 10B5     		push	{r4, lr}
  91              		.save {r4, lr}
  92              	.LCFI1:
  93              		.cfi_def_cfa_offset 8
  94              		.cfi_offset 4, -8
  95              		.cfi_offset 14, -4
  96              		.pad #16
  97 0002 84B0     		sub	sp, sp, #16
  98              	.LCFI2:
  99              		.cfi_def_cfa_offset 24
  19:source/init/init.cpp **** 
  20:source/init/init.cpp ****     // example task
ARM GAS  /tmp/cckmMliH.s 			page 3


  21:source/init/init.cpp ****     tiny_task_t idle;
 100              		.loc 1 21 5 view .LVU8
  22:source/init/init.cpp ****     idle.start_time = 0;
 101              		.loc 1 22 5 view .LVU9
 102              		.loc 1 22 21 is_stmt 0 view .LVU10
 103 0004 0024     		movs	r4, #0
 104 0006 0194     		str	r4, [sp, #4]
  23:source/init/init.cpp ****     idle.default_priority = IDLE_PRIORITY;
 105              		.loc 1 23 5 is_stmt 1 view .LVU11
 106              		.loc 1 23 27 is_stmt 0 view .LVU12
 107 0008 8DF80840 		strb	r4, [sp, #8]
  24:source/init/init.cpp ****     ts_add(&idle);
 108              		.loc 1 24 5 is_stmt 1 view .LVU13
 109              		.loc 1 24 11 is_stmt 0 view .LVU14
 110 000c 6846     		mov	r0, sp
 111 000e FFF7FEFF 		bl	ts_add
 112              	.LVL2:
  25:source/init/init.cpp **** 
  26:source/init/init.cpp ****     ts_schedule(NULL, 0);
 113              		.loc 1 26 5 is_stmt 1 view .LVU15
 114              		.loc 1 26 16 is_stmt 0 view .LVU16
 115 0012 2146     		mov	r1, r4
 116 0014 2046     		mov	r0, r4
 117 0016 FFF7FEFF 		bl	ts_schedule
 118              	.LVL3:
 119              	.L5:
  27:source/init/init.cpp **** 
  28:source/init/init.cpp ****     while(1) {};
 120              		.loc 1 28 5 is_stmt 1 discriminator 1 view .LVU17
 121              		.loc 1 28 5 discriminator 1 view .LVU18
 122 001a FEE7     		b	.L5
 123              		.cfi_endproc
 124              	.LFE134:
 125              		.fnend
 127              		.text
 128              	.Letext0:
 129              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 130              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 131              		.file 4 "source/modules/scheduler/ts.h"
 132              		.file 5 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
ARM GAS  /tmp/cckmMliH.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 init.cpp
     /tmp/cckmMliH.s:18     .text.ts_systime:0000000000000000 $t
     /tmp/cckmMliH.s:26     .text.ts_systime:0000000000000000 ts_systime
       .ARM.extab.text.ts_systime:0000000000000000 $d
       .ARM.exidx.text.ts_systime:0000000000000000 $d
     /tmp/cckmMliH.s:51     .text._Z4idleP9tiny_task:0000000000000000 $t
     /tmp/cckmMliH.s:58     .text._Z4idleP9tiny_task:0000000000000000 _Z4idleP9tiny_task
.ARM.exidx.text._Z4idleP9tiny_task:0000000000000000 $d
     /tmp/cckmMliH.s:76     .text._Z4initv:0000000000000000 $t
     /tmp/cckmMliH.s:83     .text._Z4initv:0000000000000000 _Z4initv
         .ARM.exidx.text._Z4initv:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_GetTick
__aeabi_unwind_cpp_pr1
ts_add
ts_schedule
__aeabi_unwind_cpp_pr0
